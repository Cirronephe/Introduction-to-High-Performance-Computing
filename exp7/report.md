# 单机性能优化 小作业 实验报告 

颜子俊 2023010828

## 测量结果

| 优化等级 | 时间 (s) | 性能 (GFlops) |
| :------- | :------- | :------------ |
| `-O0`    | 0.9572   | 0.2804        |
| `-O1`    | 0.3328   | 0.8066        |
| `-O2`    | 0.3364   | 0.7979        |
| `-O3`    | 0.0522   | 5.1452        |
| `-Ofast` | 0.0393   | 6.8286        |

| UNROLL_N | 时间 (s) | 性能 (GFlops) |
| :------- | :------- | :------------ |
| 1        | 2.1064   | 15.5566       |
| 2        | 1.9412   | 16.8802       |
| 4        | 1.8881   | 17.3555       |
| 8        | 1.7692   | 18.5217       |
| 16       | 1.8841   | 17.3916       |

## 问题回答

- 编译优化参数
    - O0：无优化。
    - O1：数据流分析，代码移动，强度拆减等。
    - O2：循环展开，死代码消除，复制传播等。
    - O3：在 O2 的基础上，循环融合，块式展开与融合，条件语句合并等。
    - Ofast：在 O3 的基础上，跨文件优化，禁用精确除法，激进的浮点模型等。

- 减少循环控制开销，提高流水线利用率，提升 SIMD 指令吞吐量。